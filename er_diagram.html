<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Mediloop – ER Diagram</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #f5f5f0;
            font-family: 'Times New Roman', Times, serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px 10px;
        }

        h1 {
            font-size: 20px;
            font-weight: bold;
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 4px;
            color: #111;
        }

        .sub {
            font-size: 12px;
            color: #666;
            margin-bottom: 18px;
            font-style: italic;
        }

        .wrap {
            background: #fff;
            border: 1px solid #bbb;
            box-shadow: 4px 4px 12px rgba(0, 0, 0, .12);
            overflow: auto;
            max-width: 100%;
        }

        svg text {
            font-family: 'Times New Roman', Times, serif;
        }
    </style>
</head>

<body>
    <h1>ENTITY RELATIONSHIP DIAGRAM</h1>
    <p class="sub">Mediloop Health Management System – Chen Notation</p>
    <div class="wrap">
        <svg id="er" xmlns="http://www.w3.org/2000/svg" width="1320" height="1640" viewBox="0 0 1320 1640">

            <defs>
                <marker id="arr" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
                    <polygon points="0 0,8 3,0 6" fill="#555" />
                </marker>
            </defs>

            <!-- outer border -->
            <rect x="8" y="8" width="1304" height="1624" fill="none" stroke="#aaa" stroke-width="1"
                stroke-dasharray="5,4" />

            <!-- ═══════════════════════════════════════════════════════════════
     HELPER STYLES via inline SVG:
       Entity     = <rect> double-border effect via two rects
       Attribute  = <ellipse>  (PK gets underlined text)
       Relationship = <polygon> diamond
       Lines      = <line>
════════════════════════════════════════════════════════════════ -->

            <!-- ╔══════════════════════════════╗ -->
            <!-- ║          USER  (cx=660,cy=130)  ║ -->
            <!-- ╚══════════════════════════════╝ -->
            <g id="USER">
                <rect x="600" y="110" width="120" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
                <text x="660" y="135" text-anchor="middle" font-size="13" font-weight="bold">User</text>

                <!-- attributes -->
                <!-- id (PK) -->
                <ellipse cx="420" cy="50" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.5" />
                <text x="420" y="54" text-anchor="middle" font-size="10" font-weight="bold"
                    text-decoration="underline">id</text>
                <line x1="420" y1="57" x2="420" y2="63" stroke="#333" stroke-width="1" />
                <line x1="600" y1="125" x2="420" y2="63" stroke="#555" stroke-width="1.2" />

                <ellipse cx="510" cy="40" rx="26" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="510" y="44" text-anchor="middle" font-size="10">email</text>
                <line x1="600" y1="122" x2="510" y2="53" stroke="#555" stroke-width="1.2" />

                <ellipse cx="610" cy="35" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="610" y="39" text-anchor="middle" font-size="10">role</text>
                <line x1="630" y1="110" x2="615" y2="48" stroke="#555" stroke-width="1.2" />

                <ellipse cx="710" cy="35" rx="24" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="710" y="39" text-anchor="middle" font-size="10">name</text>
                <line x1="690" y1="110" x2="710" y2="48" stroke="#555" stroke-width="1.2" />

                <ellipse cx="810" cy="45" rx="25" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="810" y="49" text-anchor="middle" font-size="10">phone</text>
                <line x1="720" y1="118" x2="810" y2="58" stroke="#555" stroke-width="1.2" />

                <ellipse cx="900" cy="80" rx="30" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="900" y="84" text-anchor="middle" font-size="10">address</text>
                <line x1="720" y1="130" x2="900" y2="80" stroke="#555" stroke-width="1.2" />

                <ellipse cx="920" cy="140" rx="42" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="920" y="144" text-anchor="middle" font-size="10">preferences</text>
                <line x1="720" y1="140" x2="920" y2="140" stroke="#555" stroke-width="1.2" />

                <ellipse cx="900" cy="200" rx="42" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="900" y="204" text-anchor="middle" font-size="10">familyCode</text>
                <line x1="715" y1="155" x2="900" y2="200" stroke="#555" stroke-width="1.2" />

                <ellipse cx="420" cy="140" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="420" y="144" text-anchor="middle" font-size="10">caregivers</text>
                <line x1="600" y1="140" x2="460" y2="140" stroke="#555" stroke-width="1.2" />

                <ellipse cx="420" cy="200" rx="42" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="420" y="204" text-anchor="middle" font-size="10">dependents</text>
                <line x1="608" y1="152" x2="420" y2="200" stroke="#555" stroke-width="1.2" />

                <ellipse cx="660" cy="35" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="660" y="39" text-anchor="middle" font-size="10">createdAt</text>
                <line x1="660" y1="110" x2="660" y2="48" stroke="#555" stroke-width="1.2" />
            </g>

            <!-- ╔══════════════════════════════╗ -->
            <!-- ║    MEDICINE  (cx=150,cy=460)    ║ -->
            <!-- ╚══════════════════════════════╝ -->
            <g id="MEDICINE">
                <rect x="82" y="440" width="136" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
                <text x="150" y="465" text-anchor="middle" font-size="13" font-weight="bold">Medicine</text>

                <ellipse cx="50" cy="350" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.5" />
                <text x="50" y="354" text-anchor="middle" font-size="10" font-weight="bold">id</text>
                <line x1="50" y1="357" x2="50" y2="363" stroke="#333" stroke-width="1" />
                <line x1="82" y1="450" x2="72" y2="363" stroke="#555" stroke-width="1.2" />

                <ellipse cx="140" cy="340" rx="28" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="140" y="344" text-anchor="middle" font-size="10">name</text>
                <line x1="130" y1="440" x2="140" y2="353" stroke="#555" stroke-width="1.2" />

                <ellipse cx="230" cy="340" rx="50" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="230" y="344" text-anchor="middle" font-size="10">genericName</text>
                <line x1="180" y1="442" x2="230" y2="353" stroke="#555" stroke-width="1.2" />

                <ellipse cx="50" cy="420" rx="35" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="50" y="424" text-anchor="middle" font-size="10">category</text>
                <line x1="82" y1="460" x2="85" y2="460" stroke="#555" stroke-width="1.2" />
                <line x1="82" y1="460" x2="85" y2="420" stroke="#555" stroke-width="1.2" />

                <ellipse cx="50" cy="480" rx="30" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="50" y="484" text-anchor="middle" font-size="10">dosage</text>
                <line x1="82" y1="470" x2="80" y2="480" stroke="#555" stroke-width="1.2" />

                <ellipse cx="50" cy="540" rx="36" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="50" y="544" text-anchor="middle" font-size="10">quantity</text>
                <line x1="90" y1="478" x2="86" y2="527" stroke="#555" stroke-width="1.2" />

                <ellipse cx="140" cy="560" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="140" y="564" text-anchor="middle" font-size="10">unit</text>
                <line x1="140" y1="480" x2="140" y2="547" stroke="#555" stroke-width="1.2" />

                <ellipse cx="230" cy="560" rx="45" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="230" y="564" text-anchor="middle" font-size="10">expiryDate</text>
                <line x1="186" y1="478" x2="230" y2="547" stroke="#555" stroke-width="1.2" />

                <ellipse cx="310" cy="540" rx="50" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="310" y="544" text-anchor="middle" font-size="10">batchNumber</text>
                <line x1="218" y1="476" x2="310" y2="527" stroke="#555" stroke-width="1.2" />

                <ellipse cx="320" cy="480" rx="56" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="320" y="484" text-anchor="middle" font-size="10">manufacturer</text>
                <line x1="218" y1="460" x2="264" y2="480" stroke="#555" stroke-width="1.2" />

                <ellipse cx="310" cy="420" rx="25" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="310" y="424" text-anchor="middle" font-size="10">price</text>
                <line x1="218" y1="450" x2="285" y2="423" stroke="#555" stroke-width="1.2" />

                <ellipse cx="310" cy="360" rx="26" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="310" y="364" text-anchor="middle" font-size="10">notes</text>
                <line x1="200" y1="443" x2="285" y2="368" stroke="#555" stroke-width="1.2" />
            </g>

            <!-- ╔══════════════════════════════════════╗ -->
            <!-- ║  MEDICINE SCHEDULE  (cx=660,cy=460)  ║ -->
            <!-- ╚══════════════════════════════════════╝ -->
            <g id="MSCHED">
                <rect x="572" y="440" width="176" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
                <text x="660" y="458" text-anchor="middle" font-size="12" font-weight="bold">Medicine</text>
                <text x="660" y="473" text-anchor="middle" font-size="12" font-weight="bold">Schedule</text>

                <ellipse cx="510" cy="350" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.5" />
                <text x="510" y="354" text-anchor="middle" font-size="10" font-weight="bold">id</text>
                <line x1="510" y1="357" x2="510" y2="363" stroke="#333" stroke-width="1" />
                <line x1="580" y1="447" x2="510" y2="363" stroke="#555" stroke-width="1.2" />

                <ellipse cx="600" cy="340" rx="38" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="600" y="344" text-anchor="middle" font-size="10">frequency</text>
                <line x1="620" y1="440" x2="600" y2="353" stroke="#555" stroke-width="1.2" />

                <ellipse cx="690" cy="335" rx="24" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="690" y="339" text-anchor="middle" font-size="10">times</text>
                <line x1="660" y1="440" x2="692" y2="348" stroke="#555" stroke-width="1.2" />

                <ellipse cx="790" cy="340" rx="55" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="790" y="344" text-anchor="middle" font-size="10">dosagePerIntake</text>
                <line x1="720" y1="444" x2="790" y2="353" stroke="#555" stroke-width="1.2" />

                <ellipse cx="540" cy="545" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="540" y="549" text-anchor="middle" font-size="10">startDate</text>
                <line x1="590" y1="480" x2="553" y2="532" stroke="#555" stroke-width="1.2" />

                <ellipse cx="630" cy="555" rx="34" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="630" y="559" text-anchor="middle" font-size="10">endDate</text>
                <line x1="625" y1="480" x2="627" y2="542" stroke="#555" stroke-width="1.2" />

                <ellipse cx="730" cy="555" rx="56" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="730" y="559" text-anchor="middle" font-size="10">reminderEnabled</text>
                <line x1="688" y1="480" x2="730" y2="542" stroke="#555" stroke-width="1.2" />

                <ellipse cx="840" cy="430" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="840" y="434" text-anchor="middle" font-size="10">createdAt</text>
                <line x1="748" y1="454" x2="840" y2="436" stroke="#555" stroke-width="1.2" />

                <ellipse cx="840" cy="490" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="840" y="494" text-anchor="middle" font-size="10">updatedAt</text>
                <line x1="748" y1="465" x2="840" y2="487" stroke="#555" stroke-width="1.2" />
            </g>

            <!-- ╔═══════════════════════════════════╗ -->
            <!-- ║  HEALTH RECORD  (cx=1130,cy=460)  ║ -->
            <!-- ╚═══════════════════════════════════╝ -->
            <g id="HREC">
                <rect x="1060" y="440" width="140" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
                <text x="1130" y="458" text-anchor="middle" font-size="12" font-weight="bold">Health</text>
                <text x="1130" y="472" text-anchor="middle" font-size="12" font-weight="bold">Record</text>

                <ellipse cx="960" cy="350" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.5" />
                <text x="960" y="354" text-anchor="middle" font-size="10" font-weight="bold">id</text>
                <line x1="960" y1="357" x2="960" y2="363" stroke="#333" stroke-width="1" />
                <line x1="1068" y1="450" x2="960" y2="363" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1060" cy="340" rx="24" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1060" y="344" text-anchor="middle" font-size="10">title</text>
                <line x1="1090" y1="440" x2="1060" y2="353" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1170" cy="340" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1170" y="344" text-anchor="middle" font-size="10">type</text>
                <line x1="1150" y1="440" x2="1165" y2="353" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1260" cy="370" rx="32" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1260" y="374" text-anchor="middle" font-size="10">fileUrl</text>
                <line x1="1190" y1="448" x2="1260" y2="383" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1270" cy="440" rx="36" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1270" y="444" text-anchor="middle" font-size="10">fileName</text>
                <line x1="1200" y1="460" x2="1270" y2="452" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1260" cy="510" rx="26" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1260" y="514" text-anchor="middle" font-size="10">notes</text>
                <line x1="1196" y1="476" x2="1256" y2="510" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1130" cy="540" rx="24" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1130" y="544" text-anchor="middle" font-size="10">date</text>
                <line x1="1130" y1="480" x2="1130" y2="527" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1050" cy="540" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1050" y="544" text-anchor="middle" font-size="10">createdAt</text>
                <line x1="1080" y1="480" x2="1053" y2="527" stroke="#555" stroke-width="1.2" />
            </g>

            <!-- ══════════════════════════════════════════════════
     RELATIONSHIPS  (row between user and sub-entities)
══════════════════════════════════════════════════ -->

            <!-- REL: User OWNS Medicine -->
            <polygon points="343,295 400,310 343,325 286,310" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="343" y="314" text-anchor="middle" font-size="11" font-weight="bold">Owns</text>
            <line x1="600" y1="148" x2="400" y2="310" stroke="#555" stroke-width="1.2" />
            <line x1="218" y1="440" x2="343" y2="325" stroke="#555" stroke-width="1.2" />

            <!-- REL: User SCHEDULES MedicineSchedule -->
            <polygon points="660,280 722,295 660,310 598,295" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="660" y="299" text-anchor="middle" font-size="11" font-weight="bold">Schedules</text>
            <line x1="660" y1="150" x2="660" y2="280" stroke="#555" stroke-width="1.2" />
            <line x1="660" y1="440" x2="660" y2="310" stroke="#555" stroke-width="1.2" />

            <!-- REL: Medicine HAS SCHEDULE (medicineid in schedule) -->
            <polygon points="430,410 490,425 430,440 370,425" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="430" y="429" text-anchor="middle" font-size="10" font-weight="bold">HasSchedule</text>
            <line x1="286" y1="460" x2="370" y2="426" stroke="#555" stroke-width="1.2" />
            <line x1="572" y1="462" x2="490" y2="426" stroke="#555" stroke-width="1.2" />

            <!-- REL: User UPLOADS HealthRecord -->
            <polygon points="930,295 990,310 930,325 870,310" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="930" y="314" text-anchor="middle" font-size="11" font-weight="bold">Uploads</text>
            <line x1="720" y1="148" x2="870" y2="310" stroke="#555" stroke-width="1.2" />
            <line x1="1068" y1="448" x2="990" y2="325" stroke="#555" stroke-width="1.2" />

            <!-- ══════════════════════════════════════════════════
     DONATION  (cx=200, cy=800)
══════════════════════════════════════════════════ -->
            <g id="DONATION">
                <rect x="136" y="780" width="128" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
                <text x="200" y="805" text-anchor="middle" font-size="13" font-weight="bold">Donation</text>

                <ellipse cx="50" cy="700" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.5" />
                <text x="50" y="704" text-anchor="middle" font-size="10" font-weight="bold">id</text>
                <line x1="50" y1="707" x2="50" y2="713" stroke="#333" stroke-width="1" />
                <line x1="140" y1="793" x2="72" y2="713" stroke="#555" stroke-width="1.2" />

                <ellipse cx="140" cy="690" rx="44" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="140" y="694" text-anchor="middle" font-size="10">donorName</text>
                <line x1="160" y1="780" x2="142" y2="703" stroke="#555" stroke-width="1.2" />

                <ellipse cx="240" cy="690" rx="46" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="240" y="694" text-anchor="middle" font-size="10">donorPhone</text>
                <line x1="210" y1="782" x2="244" y2="703" stroke="#555" stroke-width="1.2" />

                <ellipse cx="330" cy="710" rx="44" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="330" y="714" text-anchor="middle" font-size="10">donorEmail</text>
                <line x1="264" y1="790" x2="330" y2="723" stroke="#555" stroke-width="1.2" />

                <ellipse cx="360" cy="775" rx="28" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="360" y="779" text-anchor="middle" font-size="10">status</text>
                <line x1="264" y1="800" x2="360" y2="780" stroke="#555" stroke-width="1.2" />

                <ellipse cx="360" cy="830" rx="55" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="360" y="834" text-anchor="middle" font-size="10">pickupAddress</text>
                <line x1="264" y1="815" x2="360" y2="830" stroke="#555" stroke-width="1.2" />

                <ellipse cx="330" cy="890" rx="48" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="330" y="894" text-anchor="middle" font-size="10">pickupDate</text>
                <line x1="240" y1="820" x2="330" y2="877" stroke="#555" stroke-width="1.2" />

                <ellipse cx="200" cy="900" rx="26" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="200" y="904" text-anchor="middle" font-size="10">notes</text>
                <line x1="200" y1="820" x2="200" y2="887" stroke="#555" stroke-width="1.2" />

                <ellipse cx="75" cy="880" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="75" y="884" text-anchor="middle" font-size="10">createdAt</text>
                <line x1="158" y1="818" x2="115" y2="867" stroke="#555" stroke-width="1.2" />

                <ellipse cx="50" cy="820" rx="36" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="50" y="824" text-anchor="middle" font-size="10">location</text>
                <line x1="136" y1="810" x2="86" y2="820" stroke="#555" stroke-width="1.2" />
            </g>

            <!-- ══════════════════════════════════════════════════
     NGO  (cx=700, cy=800)
══════════════════════════════════════════════════ -->
            <g id="NGO">
                <rect x="648" y="780" width="104" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
                <text x="700" y="805" text-anchor="middle" font-size="13" font-weight="bold">NGO</text>

                <ellipse cx="570" cy="700" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.5" />
                <text x="570" y="704" text-anchor="middle" font-size="10" font-weight="bold">id</text>
                <line x1="570" y1="707" x2="570" y2="713" stroke="#333" stroke-width="1" />
                <line x1="660" y1="792" x2="570" y2="713" stroke="#555" stroke-width="1.2" />

                <ellipse cx="640" cy="690" rx="28" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="640" y="694" text-anchor="middle" font-size="10">name</text>
                <line x1="670" y1="780" x2="640" y2="703" stroke="#555" stroke-width="1.2" />

                <ellipse cx="720" cy="685" rx="26" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="720" y="689" text-anchor="middle" font-size="10">email</text>
                <line x1="700" y1="780" x2="720" y2="698" stroke="#555" stroke-width="1.2" />

                <ellipse cx="810" cy="700" rx="27" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="810" y="704" text-anchor="middle" font-size="10">phone</text>
                <line x1="740" y1="790" x2="810" y2="713" stroke="#555" stroke-width="1.2" />

                <ellipse cx="845" cy="760" rx="34" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="845" y="764" text-anchor="middle" font-size="10">address</text>
                <line x1="752" y1="800" x2="845" y2="766" stroke="#555" stroke-width="1.2" />

                <ellipse cx="845" cy="820" rx="36" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="845" y="824" text-anchor="middle" font-size="10">verified</text>
                <line x1="752" y1="812" x2="845" y2="820" stroke="#555" stroke-width="1.2" />

                <ellipse cx="820" cy="870" rx="36" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="820" y="874" text-anchor="middle" font-size="10">location</text>
                <line x1="740" y1="820" x2="820" y2="857" stroke="#555" stroke-width="1.2" />

                <ellipse cx="700" cy="895" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="700" y="899" text-anchor="middle" font-size="10">createdAt</text>
                <line x1="700" y1="820" x2="700" y2="882" stroke="#555" stroke-width="1.2" />
            </g>

            <!-- ══════════════════════════════════════════════════
     HOSPITAL  (cx=1130, cy=800)
══════════════════════════════════════════════════ -->
            <g id="HOSPITAL">
                <rect x="1068" y="780" width="124" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
                <text x="1130" y="805" text-anchor="middle" font-size="13" font-weight="bold">Hospital</text>

                <ellipse cx="970" cy="700" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.5" />
                <text x="970" y="704" text-anchor="middle" font-size="10" font-weight="bold">id</text>
                <line x1="970" y1="707" x2="970" y2="713" stroke="#333" stroke-width="1" />
                <line x1="1075" y1="793" x2="970" y2="713" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1065" cy="690" rx="28" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1065" y="694" text-anchor="middle" font-size="10">name</text>
                <line x1="1095" y1="780" x2="1065" y2="703" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1155" cy="685" rx="26" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1155" y="689" text-anchor="middle" font-size="10">email</text>
                <line x1="1140" y1="780" x2="1152" y2="698" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1250" cy="700" rx="27" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1250" y="704" text-anchor="middle" font-size="10">phone</text>
                <line x1="1185" y1="790" x2="1248" y2="713" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1270" cy="758" rx="34" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1270" y="762" text-anchor="middle" font-size="10">address</text>
                <line x1="1192" y1="800" x2="1270" y2="765" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1270" cy="820" rx="36" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1270" y="824" text-anchor="middle" font-size="10">verified</text>
                <line x1="1192" y1="812" x2="1268" y2="820" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1250" cy="875" rx="36" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1250" y="879" text-anchor="middle" font-size="10">location</text>
                <line x1="1185" y1="820" x2="1248" y2="862" stroke="#555" stroke-width="1.2" />

                <ellipse cx="1130" cy="895" rx="40" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="1130" y="899" text-anchor="middle" font-size="10">createdAt</text>
                <line x1="1130" y1="820" x2="1130" y2="882" stroke="#555" stroke-width="1.2" />
            </g>

            <!-- ══════════════════════════════════════════════════
     RELATIONSHIPS (middle row)
══════════════════════════════════════════════════ -->
            <!-- REL: User -Requests-> Donation -->
            <polygon points="430,660 490,675 430,690 370,675" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="430" y="679" text-anchor="middle" font-size="11" font-weight="bold">Requests</text>
            <line x1="608" y1="155" x2="432" y2="660" stroke="#555" stroke-width="1.2" />
            <line x1="264" y1="793" x2="370" y2="676" stroke="#555" stroke-width="1.2" />

            <!-- REL: NGO -Receives-> Donation -->
            <polygon points="455,790 520,805 455,820 390,805" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="455" y="809" text-anchor="middle" font-size="11" font-weight="bold">Receives</text>
            <line x1="264" y1="800" x2="390" y2="806" stroke="#555" stroke-width="1.2" />
            <line x1="648" y1="800" x2="520" y2="806" stroke="#555" stroke-width="1.2" />

            <!-- REL: Hospital -(also) Receives-> Donation -->
            <polygon points="760,870 830,885 760,900 690,885" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="760" y="889" text-anchor="middle" font-size="10" font-weight="bold">AlsoReceives</text>
            <line x1="264" y1="820" x2="690" y2="886" stroke="#555" stroke-width="1.2" />
            <line x1="1068" y1="818" x2="830" y2="886" stroke="#555" stroke-width="1.2" />

            <!-- ══════════════════════════════════════════════════
     LOG  (cx=660, cy=1080)
══════════════════════════════════════════════════ -->
            <g id="LOG">
                <rect x="615" y="1060" width="90" height="40" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
                <text x="660" y="1085" text-anchor="middle" font-size="13" font-weight="bold">Log</text>

                <ellipse cx="490" cy="990" rx="26" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="490" y="994" text-anchor="middle" font-size="10">level</text>
                <line x1="620" y1="1072" x2="503" y2="1003" stroke="#555" stroke-width="1.2" />

                <ellipse cx="570" cy="980" rx="34" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="570" y="984" text-anchor="middle" font-size="10">message</text>
                <line x1="635" y1="1062" x2="572" y2="993" stroke="#555" stroke-width="1.2" />

                <ellipse cx="660" cy="978" rx="22" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="660" y="982" text-anchor="middle" font-size="10">meta</text>
                <line x1="660" y1="1060" x2="660" y2="991" stroke="#555" stroke-width="1.2" />

                <ellipse cx="760" cy="980" rx="44" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="760" y="984" text-anchor="middle" font-size="10">timestamp</text>
                <line x1="695" y1="1063" x2="760" y2="993" stroke="#555" stroke-width="1.2" />

                <ellipse cx="840" cy="1000" rx="32" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
                <text x="840" y="1004" text-anchor="middle" font-size="10">userId</text>
                <line x1="705" y1="1073" x2="840" y2="1013" stroke="#555" stroke-width="1.2" />
            </g>

            <!-- REL: User -Generates-> Log -->
            <polygon points="660,960 720,975 660,990 600,975" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="660" y="979" text-anchor="middle" font-size="11" font-weight="bold">Generates</text>
            <line x1="660" y1="170" x2="660" y2="960" stroke="#555" stroke-width="1.2" />
            <line x1="660" y1="1060" x2="660" y2="990" stroke="#555" stroke-width="1.2" />

            <!-- ══════════════════════════════════════════════════
     LEGEND
══════════════════════════════════════════════════ -->
            <rect x="30" y="1160" width="550" height="90" fill="#f9f9f9" stroke="#aaa" stroke-width="1" />
            <text x="42" y="1180" font-size="12" font-weight="bold">LEGEND</text>

            <rect x="42" y="1190" width="70" height="28" fill="#fff" stroke="#333" stroke-width="2" rx="2" />
            <text x="77" y="1209" text-anchor="middle" font-size="11" font-weight="bold">Entity</text>
            <text x="125" y="1209" font-size="11">= Entity</text>

            <ellipse cx="225" cy="1204" rx="30" ry="13" fill="#fff" stroke="#333" stroke-width="1.3" />
            <text x="225" y="1208" text-anchor="middle" font-size="10">attribute</text>
            <text x="265" y="1208" font-size="11">= Attribute</text>

            <ellipse cx="395" cy="1204" rx="30" ry="13" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="395" y="1202" text-anchor="middle" font-size="10" font-weight="bold">pk</text>
            <line x1="378" y1="1210" x2="412" y2="1210" stroke="#333" stroke-width="1" />
            <text x="435" y="1208" font-size="11">= Primary Key</text>

            <polygon points="77,1243 127,1255 77,1267 27,1255" fill="#fff" stroke="#333" stroke-width="1.5" />
            <text x="77" y="1259" text-anchor="middle" font-size="10" font-weight="bold">Rel</text>
            <text x="138" y="1259" font-size="11">= Relationship (Diamond)</text>

            <!-- bottom caption -->
            <text x="660" y="1560" text-anchor="middle" font-size="13" font-weight="bold">
                Mediloop Health Management System – Entity Relationship Diagram
            </text>
            <text x="660" y="1580" text-anchor="middle" font-size="11" fill="#555">
                Entities: User · Medicine · MedicineSchedule · HealthRecord · Donation · NGO · Hospital · Log
            </text>

        </svg>
    </div>
</body>

</html>